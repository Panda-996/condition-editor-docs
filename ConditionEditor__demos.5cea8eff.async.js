"use strict";(self.webpackChunkcondition_editor=self.webpackChunkcondition_editor||[]).push([[299],{6687:function(nn,_,n){n.r(_);var S=n(50789),d=n(76480),a=n(42334),s=n(4637);_.default=function(){var L=function(p){console.log("\u{1F680}\u{1F680} ~ \u6761\u4EF6\u914D\u7F6E:",p)};return(0,s.jsx)(d.ConditionEditor,{defaultValue:a.iC,onChange:L,renderCondField:a.LB,renderCondOperator:a.tv,renderCondValue:a.Nt,maxHeight:120})}},67577:function(nn,_,n){n.r(_);var S=n(54306),d=n.n(S),a=n(64939),s=n(13563),L=n(50789),g=n(76480),p=n(59496),B=n(42334),F=n(4637);_.default=function(){var Y=(0,p.useRef)(null),$=(0,a.Z)(Y),J=d()($,2),G=J[0],N=J[1],z=N.enterFullscreen,i=N.exitFullscreen;return(0,F.jsxs)("div",{ref:Y,style:{padding:"16px",background:"#fff"},children:[(0,F.jsx)("div",{style:{textAlign:"right"},children:G?(0,F.jsx)(s.Z,{type:"primary",onClick:i,children:"\u9000\u51FA\u5168\u5C4F"}):(0,F.jsx)(s.Z,{type:"primary",onClick:z,children:"\u6253\u5F00\u5168\u5C4F"})}),(0,F.jsx)("div",{style:{marginTop:16},children:(0,F.jsx)(g.ConditionEditor,{defaultValue:B.iC,renderCondField:B.LB,renderCondOperator:B.tv,renderCondValue:B.Nt,getContainer:!1})})]})}},20048:function(nn,_,n){n.r(_);var S=n(25359),d=n.n(S),a=n(49811),s=n.n(a),L=n(73684),g=n(50789),p=n(76480),B=n(42334),F=n(4637);_.default=function(){var Y=function(G){console.log("\u{1F680}\u{1F680} ~ \u6761\u4EF6\u914D\u7F6E:",G)},$=function(){var J=s()(d()().mark(function G(N,z,i){return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(i!=p.LevelType.Child){C.next=3;break}throw L.ZP.error("\u4E0D\u80FD\u6DFB\u52A0\u5B50\u8282\u70B9"),new Error("\u4E0D\u80FD\u6DFB\u52A0\u5B50\u8282\u70B9");case 3:return C.abrupt("return",{source:"form",property:"value",field:"userName",operator:"equal",value:"demo",valueType:"string"});case 4:case"end":return C.stop()}},G)}));return function(N,z,i){return J.apply(this,arguments)}}();return(0,F.jsx)(p.ConditionEditor,{onChange:Y,renderCondField:B.LB,renderCondOperator:B.tv,renderCondValue:B.Nt,onBeforeAddition:$})}},76007:function(nn,_,n){n.r(_);var S=n(54306),d=n.n(S),a=n(50789),s=n(76480),L=n(59496),g=n(42334),p=n(4637);_.default=function(){var B=(0,L.useState)(),F=d()(B,2),Y=F[0],$=F[1],J=function(N){console.log("\u{1F680}\u{1F680} ~ \u6761\u4EF6\u914D\u7F6E:",N),$(N)};return(0,p.jsx)(s.ConditionEditor,{value:Y,onChange:J,renderCondField:g.LB,renderCondOperator:g.tv,renderCondValue:g.Nt})}},11395:function(nn,_,n){n.r(_);var S=n(50789),d=n(76480),a=n(42334),s=n(4637);_.default=function(){var L=function(p){console.log("\u{1F680}\u{1F680} ~ \u6761\u4EF6\u914D\u7F6E:",p)};return(0,s.jsx)(d.ConditionEditor,{onChange:L,renderCondField:a.LB,renderCondOperator:a.tv,renderCondValue:a.Nt,renderCondPrefix:function(){return(0,s.jsx)("span",{children:"\u5F53"})},renderCondExtra:function(){return(0,s.jsx)("span",{children:"\u65F6"})}})}},6680:function(nn,_,n){n.r(_);var S=n(89356),d=n(49044),a=n(50789),s=n(76480),L=n(42334),g=n(4637);_.default=function(){return(0,g.jsxs)(S.Z,{direction:"vertical",style:{display:"flex"},children:[(0,g.jsx)(s.ConditionEditor,{title:"\u6761\u4EF6\u89C4\u5219",disabled:!0}),(0,g.jsx)(s.ConditionEditor,{title:"\u6761\u4EF6\u89C4\u52191",disabled:!0,noCondContent:(0,g.jsx)(d.Z,{description:"\u6CA1\u6709\u6761\u4EF6\u89C4\u5219"})}),(0,g.jsx)(s.ConditionEditor,{title:"\u6761\u4EF6\u89C4\u52192",defaultValue:L.iC,renderCondField:L.LB,renderCondOperator:L.tv,renderCondValue:L.Nt,disabled:!0,noCondContent:(0,g.jsx)(d.Z,{description:"\u6CA1\u6709\u6761\u4EF6\u89C4\u5219"})})]})}},79858:function(nn,_,n){n.r(_);var S=n(93525),d=n.n(S),a=n(30268),s=n(50789),L=n(76480),g=n(42334),p=n(4637);_.default=function(){return(0,p.jsx)(L.ConditionEditor,{defaultValue:g.iC,renderCondField:g.LB,renderCondOperator:g.tv,renderCondValue:g.Nt,renderCondActions:function(F,Y,$){var J=Y.actionClassName,G=Y.data,N=d()(F);return N.push((0,p.jsx)("div",{className:J,style:{color:"#1677ff"},onClick:function(i){var A;i==null||(A=i.stopPropagation)===null||A===void 0||A.call(i),$.add(L.LevelType.Before,G)},children:(0,p.jsx)(a.Z,{})},"copy")),N},onChange:function(F){console.info("data",F)}})}},88118:function(nn,_,n){n.r(_);var S=n(50789),d=n(76480),a=n(42334),s=n(4637);_.default=function(){return(0,s.jsx)(d.ConditionEditor,{defaultValue:a.iC,renderCondField:a.LB,renderCondOperator:a.tv,renderCondValue:a.Nt})}},96211:function(nn,_,n){n.r(_);var S=n(50789),d=n(76480),a=n(42334),s=n(4637);_.default=function(){return(0,s.jsx)(d.ConditionEditor,{defaultValue:a.iC,renderCondField:a.LB,renderCondOperator:a.tv,renderCondValue:a.Nt,additionText:"Add Condtion",relationText:["AND","OR"],levelText:["Add Before Condition","Add After Condition","Add Children Condition"]})}},82120:function(nn,_,n){n.r(_);var S=n(50789),d=n(76480),a=n(42334),s=n(4637);_.default=function(){return(0,s.jsx)(d.ConditionEditor,{title:"\u6761\u4EF6\u89C4\u5219",bordered:!0,defaultValue:a.iC,renderCondField:a.LB,renderCondOperator:a.tv,renderCondValue:a.Nt})}},42334:function(nn,_,n){n.d(_,{LB:function(){return Y},Nt:function(){return J},iC:function(){return F},tv:function(){return $}});var S=n(57213),d=n.n(S),a=n(838),s=n(40856),L=n(76480),g=n(59496),p=n(4637),B={width:"100%",maxWidth:"100%"},F={key:"root",type:L.NodeType.Group,data:{relation:L.RelationType.AND},children:[{key:"1682694238066",type:L.NodeType.Item,description:"",data:{source:"form",property:"length",field:"userName",operator:"equal",value:"111",valueType:"string"}},{key:"1682694249759",type:L.NodeType.Item,description:"",data:{source:"form",property:"value",field:"userName",operator:"equal",value:"222",valueType:"string"}}]},Y=function(N,z,i){var A=N.data,C=N.disabled;return(0,p.jsxs)(g.Fragment,{children:[(0,p.jsx)("div",{style:{width:"100px"},children:(0,p.jsx)(a.Z,{getPopupContainer:i,value:A==null?void 0:A.source,onChange:function(k){z(d()(d()({},A),{},{source:k}))},disabled:C,style:B,options:[{value:"form",label:"\u8868\u5355\u9879"}]})}),(0,p.jsx)("div",{style:{width:"160px"},children:(0,p.jsx)(a.Z,{getPopupContainer:i,value:A==null?void 0:A.field,onChange:function(k){z(d()(d()({},A),{},{field:k}))},disabled:C,style:B,options:[{value:"userName",label:"\u7528\u6237\u540D"}]})}),(0,p.jsx)("div",{style:{width:"100px"},children:(0,p.jsx)(a.Z,{getPopupContainer:i,value:A==null?void 0:A.property,onChange:function(k){z(d()(d()({},A),{},{property:k}))},disabled:C,style:B,options:[{value:"value",label:"\u503C"},{value:"length",label:"\u957F\u5EA6"}]})})]})},$=function(N,z,i){var A=N.data,C=N.disabled;return(0,p.jsx)(a.Z,{getPopupContainer:i,value:A==null?void 0:A.operator,onChange:function(k){z(d()(d()({},A),{},{operator:k}))},disabled:C,style:{width:"100px"},options:[{value:"equal",label:"\u7B49\u4E8E"},{label:"\u4E0D\u7B49\u4E8E",value:"notEqual"}]})},J=function(N,z){var i=N.data,A=N.disabled;return(0,p.jsx)(s.Z,{value:i==null?void 0:i.value,onChange:function(Q){var k,Cn=(Q==null||(k=Q.target)===null||k===void 0?void 0:k.value)||"";z(d()(d()({},i),{},{value:Cn}))},disabled:A,style:{width:"120px"},placeholder:"\u8BF7\u8F93\u5165"})}},76480:function(nn,_,n){n.d(_,{ConditionEditor:function(){return Un},LevelType:function(){return y},NodeType:function(){return on},RelationType:function(){return dn}});var S=n(57213),d=n.n(S),a=n(25359),s=n.n(a),L=n(49811),g=n.n(L),p=n(54306),B=n.n(p),F=n(12342),Y=n.n(F),$=n(59496),J=(0,$.createContext)({}),G=function(e){return e?"ce-".concat(e):"ce"},N=function(e,Z){return Object.keys(e).filter(function(f){return!(Z!=null&&Z.includes(f))}).reduce(function(f,l){return f[l]=e[l],f},{})},z=function(e,Z){return Object.keys(e).filter(function(f){return Z==null?void 0:Z.includes(f)}).reduce(function(f,l){return f[l]=e[l],f},{})},i=function(e){return JSON.parse(JSON.stringify(e))},A=n(14196),C=n(28881),Q=n(13563),k=n(57395),Cn=n(52510),Dn=n.n(Cn),Pn=function(){var e=(0,$.useContext)(J);return e},hn=n(838),An=n(84875),xn=n.n(An),Mn=n(3289),jn=n(81644),pn=n(40856),Bn=n(85315),y;(function(T){T.Child="child",T.Before="before",T.After="after",T.BeforeParent="beforeParent",T.AfterParent="afterParent"})(y||(y={}));var on;(function(T){T.Item="item",T.Group="group"})(on||(on={}));var dn;(function(T){T.AND="and",T.OR="or"})(dn||(dn={}));var v=n(4637),yn={width:"100%",maxWidth:"100%"},Tn=function(e){var Z,f=G("condition-item"),l=(0,$.useState)(!1),un=B()(l,2),vn=un[0],t=un[1],en=(0,$.useRef)(),o=Pn(),O=(Z=o==null?void 0:o.disabled)!==null&&Z!==void 0?Z:!1,X=(o==null?void 0:o.levelText)||[],W=e==null?void 0:e.actionRef,rn=(0,A.useMergeState)(void 0,{defaultValue:e==null?void 0:e.defaultValue,value:e==null?void 0:e.value,onChange:e==null?void 0:e.onChange}),cn=B()(rn,2),I=cn[0],_n=cn[1],tn=function(u){var R=i(I);return R.data=u,_n(R)},w=function(){return(0,C.mf)(o==null?void 0:o.renderCondField)?o.renderCondField({node:I,data:i(I.data),disabled:O},tn,o.getContainer):(0,v.jsx)("div",{children:"-"})},U=(0,$.useMemo)(function(){var P;return(P=o==null?void 0:o.operators)!==null&&P!==void 0?P:[]},[o==null?void 0:o.operators]),x=function(){var u;return(0,C.mf)(o==null?void 0:o.renderCondOperator)?o.renderCondOperator({node:I,data:i(I.data),disabled:O},tn,o.getContainer):(0,v.jsx)(hn.Z,{getPopupContainer:o==null?void 0:o.getContainer,value:(u=I.data)===null||u===void 0?void 0:u.operator,onChange:function(D){var h=i(I.data);_n(d()(d()({},h),{},{operator:D}))},style:yn,options:U})},E=function(){var u;return(0,C.mf)(o==null?void 0:o.renderCondValue)?o.renderCondValue({node:I,data:i(I.data),disabled:O},tn,o.getContainer):(0,v.jsx)(pn.Z,{style:{width:"120px"},placeholder:"\u8BF7\u8F93\u5165",value:(u=I.data)===null||u===void 0?void 0:u.value,onChange:function(D){var h,H,V=D==null||(h=D.target)===null||h===void 0?void 0:h.value;return tn(d()(d()({},(H=I.data)!==null&&H!==void 0?H:{}),{},{value:V}))}})},c=function(){return(0,C.mf)(o==null?void 0:o.renderCondPrefix)?o.renderCondPrefix({node:I,data:i(I.data),disabled:O},tn,o.getContainer):null},M=function(){return(0,C.mf)(o==null?void 0:o.renderCondExtra)?o.renderCondExtra({node:I,data:i(I.data),disabled:O},tn,o.getContainer):null};(0,$.useEffect)(function(){typeof W=="function"&&en.current&&W(en.current)},[W]);var r={add:function(u,R){var D;e==null||(D=e.onAdd)===null||D===void 0||D.call(e,I.key,u,R)},delete:function(){var u;e==null||(u=e.onDelete)===null||u===void 0||u.call(e,I.key)}};en.current=r,W&&(W.current=en.current);var j=function(){if(O)return null;var u=(0,v.jsx)("div",{className:"".concat(f,"-action ").concat(f,"-action-delete"),onClick:function(m){var K;m==null||(K=m.stopPropagation)===null||K===void 0||K.call(m),r.delete()},children:(0,v.jsx)(Mn.Z,{})},"delete"),R=(0,v.jsx)(Q.Z,{type:"link",block:!0,onClick:function(m){var K;m==null||(K=m.stopPropagation)===null||K===void 0||K.call(m),t(!1),r.add(y.Before)},children:X[0]||"\u5728\u4E0A\u65B9\u63D2\u5165\u6761\u4EF6"},y.Before),D=(0,v.jsx)(Q.Z,{type:"link",block:!0,onClick:function(m){var K;m==null||(K=m.stopPropagation)===null||K===void 0||K.call(m),t(!1),r.add(y.After)},children:X[1]||"\u5728\u4E0B\u65B9\u63D2\u5165\u6761\u4EF6"},y.After),h=(0,v.jsx)(Q.Z,{type:"link",block:!0,onClick:function(m){var K;m==null||(K=m.stopPropagation)===null||K===void 0||K.call(m),t(!1),r.add(y.Child)},children:X[2]||"\u63D2\u5165\u5B50\u7EA7\u6761\u4EF6"},y.Child),H=e.depth>1&&(0,v.jsx)(Q.Z,{type:"link",block:!0,onClick:function(m){var K;m==null||(K=m.stopPropagation)===null||K===void 0||K.call(m),t(!1),r.add(y.BeforeParent)},children:X[3]||"\u5728\u7236\u7EA7\u4E0A\u65B9\u63D2\u5165\u6761\u4EF6"},y.BeforeParent),V=e.depth>1&&(0,v.jsx)(Q.Z,{type:"link",block:!0,onClick:function(m){var K;m==null||(K=m.stopPropagation)===null||K===void 0||K.call(m),t(!1),r.add(y.AfterParent)},children:X[4]||"\u5728\u7236\u7EA7\u4E0B\u65B9\u63D2\u5165\u6761\u4EF6"},y.AfterParent),an=[R,D,h,H,V].filter(function(b){return!!b}),ln=(0,v.jsx)("div",{className:"".concat(f,"-action ").concat(f,"-action-addition"),children:(0,v.jsx)(Bn.Z,{placement:"right",overlayClassName:"".concat(f,"-action-menu"),open:vn,onOpenChange:t,content:(0,v.jsx)("div",{className:"".concat(f,"-action-menu-container"),children:an}),trigger:"hover",getPopupContainer:o.getContainer,children:(0,v.jsx)(jn.Z,{})})},"addition"),sn=[u,ln];if((0,C.mf)(o==null?void 0:o.renderCondActions)){var q=o.renderCondActions(sn,{node:I,data:i(I.data),actionClassName:"".concat(f,"-action")},r);return(0,v.jsx)("div",{className:"".concat(f,"-cond-actions"),children:q})}return(0,v.jsx)("div",{className:"".concat(f,"-cond-actions"),children:sn})};return(0,v.jsxs)("div",{className:f,children:[c(),(0,v.jsx)("div",{className:"".concat(f,"-cond-field"),children:w()}),(0,v.jsx)("div",{className:"".concat(f,"-cond-operator"),children:x()}),(0,v.jsx)("div",{className:"".concat(f,"-cond-value"),children:E()}),M(),j()]})},mn=(0,$.memo)(Tn),On=function(){return"root"},In=function(e){return(0,C.PO)(e)&&e.type==on.Group},En=function(){return{key:"".concat(new Date().valueOf()),type:on.Item,description:"",data:{}}},Rn=function(){return{key:"".concat(new Date().valueOf()),type:on.Group,description:"",data:{relation:dn.AND},children:[]}},Ln=On(),gn=function T(e){var Z,f=G("condition-group"),l=Pn(),un=(Z=l==null?void 0:l.disabled)!==null&&Z!==void 0?Z:!1,vn=(l==null?void 0:l.relationText)||["\u5E76\u4E14","\u6216\u8005"],t=(0,$.useRef)(null),en=(0,A.useMergeState)(void 0,{defaultValue:e==null?void 0:e.defaultValue,value:e==null?void 0:e.value,onChange:e==null?void 0:e.onChange,transformToOrigin:function(U){return U}}),o=B()(en,2),O=o[0],X=o[1],W=!(O!=null&&O.children)||O.children.length<2,rn=function(){var w=g()(s()().mark(function U(x,E,c){var M,r,j,P,u,R,D,h,H,V,an,ln,sn;return s()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(r=i(Object.assign({},O)),j=r==null||(M=r.children)===null||M===void 0?void 0:M.findIndex(function(m){return m.key==x}),!(j>-1)){b.next=22;break}if(!(e.parentNode&&[y.BeforeParent,y.AfterParent].includes(E))){b.next=7;break}E==y.BeforeParent?(P=e.onAddParent)===null||P===void 0||P.call(e,O.key,y.Before,c):(u=e.onAddParent)===null||u===void 0||u.call(e,O.key,y.After,c),b.next=22;break;case 7:if(D=En(),!(0,C.mf)(l==null?void 0:l.onBeforeAddition)){b.next=18;break}return b.next=11,(0,C.lm)(l.onBeforeAddition(O,x,E));case 11:if(h=b.sent,H=B()(h,2),V=H[0],an=H[1],!(V||an===!1)){b.next=17;break}return b.abrupt("return");case 17:D.data=an;case 18:c&&(D.data=c),E==y.Before?r.children.splice(j,0,D):E==y.After?r.children.splice(j+1,0,D):E==y.BeforeParent?r.children.splice(j,0,D):E==y.AfterParent?r.children.splice(j+1,0,D):(ln=d()({},r.children[j]),sn=Rn(),sn.children.push(ln,D),r.children.splice(j,1,sn)),X(r),l==null||(R=l.onAddition)===null||R===void 0||R.call(l,O,x,E,D);case 22:case"end":return b.stop()}},U)}));return function(x,E,c){return w.apply(this,arguments)}}(),cn=function(){var w=g()(s()().mark(function U(x){var E,c,M,r,j,P,u,R;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c=i(Object.assign({},O)),M=c==null||(E=c.children)===null||E===void 0?void 0:E.findIndex(function(H){return H.key==x}),!(M>-1)){h.next=15;break}if(!(0,C.mf)(l==null?void 0:l.onBeforeDelete)){h.next=12;break}return h.next=6,(0,C.lm)(l.onBeforeDelete(O,{key:x,index:M},on.Item));case 6:if(j=h.sent,P=B()(j,2),u=P[0],R=P[1],!(u||R===!1)){h.next=12;break}return h.abrupt("return");case 12:c.children.splice(M,1),c.children.length==1&&c.key!==Ln?X(d()(d()({},c.children[0]),{},{key:c.key})):X(c),l==null||(r=l.onDelete)===null||r===void 0||r.call(l,O,x,on.Item);case 15:case"end":return h.stop()}},U)}));return function(x){return w.apply(this,arguments)}}(),I=function(U){var x,E=i(Object.assign({},O)),c=E==null||(x=E.children)===null||x===void 0?void 0:x.findIndex(function(M){return M.key==U.key});c>-1&&(E.children[c]=U,X(E))},_n=function(){var U;return O==null||(U=O.children)===null||U===void 0?void 0:U.map(function(x){return In(x)?(0,v.jsx)(T,{parentNode:O,value:x,onChange:I,onAddParent:function(c,M,r){rn(c,M,r)},depth:e.depth+1},x.key):(0,v.jsx)(mn,{depth:e.depth+1,value:x,onChange:I,onAdd:rn,onDelete:cn},x.key)})},tn=function(){var U,x,E;return W?null:(0,v.jsxs)("div",{className:"".concat(f,"-relation-wrap"),children:[(0,v.jsx)("div",{className:"".concat(f,"-line")}),(0,v.jsx)("div",{className:"".concat(f,"-relation"),children:(0,v.jsx)(hn.Z,{getPopupContainer:l==null?void 0:l.getContainer,value:O==null||(U=O.data)===null||U===void 0?void 0:U.relation,onChange:function(M){var r=i(Object.assign({},O,{data:{relation:M}}));X(r)},disabled:un,style:{width:"100%",maxWidth:"100%"},options:[{value:dn.AND,label:(x=vn[0])!==null&&x!==void 0?x:"\u5E76\u4E14"},{value:dn.OR,label:(E=vn[1])!==null&&E!==void 0?E:"\u6216\u8005"}]})})]})};return(0,C.rr)(e,(0,v.jsxs)("div",{className:xn()(f,Dn()({},"".concat(f,"-single"),W)),onChange:function(){},ref:t,children:[tn(),(0,v.jsx)("div",{className:"".concat(f,"-content"),children:_n()})]}))},Kn=["maxHeight","additionText","additionProps"],fn=On(),Wn=function(e){var Z=e.maxHeight,f=e.additionText,l=f===void 0?"\u6DFB\u52A0\u6761\u4EF6":f,un=e.additionProps,vn=un===void 0?{}:un,t=Y()(e,Kn),en=G("condition-editor"),o=(0,$.useRef)(null),O=(0,A.useMergeState)({key:fn,type:on.Group,data:{relation:dn.AND},children:[]},{defaultValue:t==null?void 0:t.defaultValue,value:t==null?void 0:t.value,onChange:t==null?void 0:t.onChange}),X=B()(O,2),W=X[0],rn=X[1],cn=function(){var E=g()(s()().mark(function c(){var M,r,j,P,u,R,D,h;return s()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(r=y.After,j=i(Object.assign({key:fn,type:on.Group,data:{relation:dn.AND},children:[]},W)),P=En(),!(0,C.mf)(t==null?void 0:t.onBeforeAddition)){V.next=13;break}return V.next=6,(0,C.lm)(t.onBeforeAddition(W,fn,r));case 6:if(u=V.sent,R=B()(u,2),D=R[0],h=R[1],!(D||h===!1)){V.next=12;break}return V.abrupt("return");case 12:P.data=h;case 13:j.children.push(P),rn(j),t==null||(M=t.onAddition)===null||M===void 0||M.call(t,W,fn,r,P);case 16:case"end":return V.stop()}},c)}));return function(){return E.apply(this,arguments)}}(),I=function(){var E=g()(s()().mark(function c(M,r,j){var P,u,R,D,h,H,V,an,ln;return s()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(u=i(Object.assign({},W)),R=u==null||(P=u.children)===null||P===void 0?void 0:P.findIndex(function(b){return b.key==M}),!(R>-1)){q.next=18;break}if(h=En(),!(0,C.mf)(t==null?void 0:t.onBeforeAddition)){q.next=14;break}return q.next=7,(0,C.lm)(t.onBeforeAddition(W,M,r));case 7:if(H=q.sent,V=B()(H,2),an=V[0],ln=V[1],!(an||ln===!1)){q.next=13;break}return q.abrupt("return");case 13:h.data=ln;case 14:j&&(h.data=j),r==y.Before?u.children.splice(R,0,h):r==y.After&&u.children.splice(R+1,0,h),rn(u),t==null||(D=t.onAddition)===null||D===void 0||D.call(t,W,M,r,h);case 18:case"end":return q.stop()}},c)}));return function(M,r,j){return E.apply(this,arguments)}}(),_n=function(){if(!(W!=null&&W.children)||(W==null?void 0:W.children.length)==0){if(t.disabled){var c;return(0,v.jsx)("div",{className:"".concat(en,"-placeholder"),children:(c=t.noCondContent)!==null&&c!==void 0?c:"\u6CA1\u6709\u6761\u4EF6"})}return(0,v.jsx)("div",{className:"".concat(en,"-addition"),children:(0,v.jsx)(Q.Z,d()(d()({type:"dashed",block:!0},vn),{},{onClick:function(r){var j;(j=r.stopPropagation)===null||j===void 0||j.call(r),cn()},children:l}))})}return(0,v.jsx)(gn,{depth:0,className:"".concat(en,"-root"),value:W,onChange:rn,onAddParent:function(r,j,P){I(r,j,P)}})},tn=(0,$.useCallback)(function(){return(t==null?void 0:t.getContainer)===!1?o.current:typeof(t==null?void 0:t.getContainer)=="function"?t.getContainer():(t==null?void 0:t.getContainer)||document.body},[o]),w=["disabled","relationText","levelText","renderCondField","renderCondOperator","operators","renderCondValue","renderCondPrefix","renderCondExtra","renderCondActions","onBeforeDelete","onBeforeAddition","onAddition","onDelete"],U=N(t,[].concat(w,["noCondContent","defaultValue","value","onChange","style","className","getContainer"])),x=z(t,w);return(0,v.jsx)(J.Provider,{value:d()(d()({},x),{},{getContainer:tn}),children:(0,C.rr)(t,(0,v.jsx)(k.Z,d()(d()({ref:o,type:"inner",bordered:!1,bodyStyle:{maxHeight:Z}},U),{},{className:en,children:_n()})))})},Un=(0,C.AG)(Wn,{Group:gn,Item:mn})}}]);
